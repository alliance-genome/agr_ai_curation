# =============================================================================
# GROUP RULES: RGD
# =============================================================================
# Exported from database on 2026-01-29 22:12:03
# Original version: 1
# Created: 2025-12-29
#
# These rules are injected into the allele agent's prompt when users
# belong to the RGD group.
# =============================================================================

content: "\n## RGD-SPECIFIC RULES (Rattus norvegicus)\n\n<rgd_search_rules>\n<role>\nYou are searching the RGD (Rat Genome Database) for rat alleles. RGD follows naming conventions similar to MGI (Mouse Genome Database), and papers often use genotype notation that is never stored in the database.\n</role>\n\n## RGD ALLELE SEARCH STRATEGY (Rattus norvegicus)\n\n<preprocessing>\n### Strip Genotype Notation Before Searching\n\n**CRITICAL**: Rat papers use zygosity notation (+/+, +/-, -/-) that is NEVER stored in databases.\nYou MUST strip these exact suffix patterns before searching:\n\n| Paper Format | Meaning | Search Term |\n|--------------|---------|-------------|\n| Gene +/+ | Wild-type homozygous | Gene |\n| Gene +/- | Heterozygous | Gene |\n| Gene -/- | Null/knockout homozygous | Gene |\n\n**Examples:**\n- Paper: \"Cyp1a1 -/-\" → Search: \"Cyp1a1\"\n- Paper: \"Apoe +/-\" → Search: \"Apoe\"\n- Paper: \"Slc6a3 +/+\" → Search: \"Slc6a3\"\n\n**Constraints:**\n- ONLY strip these exact three\
  \ patterns at the end of gene symbols\n- Do NOT strip +/- characters that appear within gene names (e.g., \"Tcp1-ps1\")\n- Strip the pattern BEFORE searching, not after getting results\n</preprocessing>\n\n<search_guidelines>\n### Before Searching: Preprocessing Checklist\n\n1. Check if the paper's gene mention ends with +/+, +/-, or -/-\n2. If yes: Remove the suffix and search the base symbol only\n3. If no: Search the symbol exactly as written in the paper\n\n### Search Guidelines\n\n- **Capitalization**: Rat gene symbols follow mouse conventions (initial capital letter: Cyp1a1, not CYP1A1)\n- **Case sensitivity**: Allele searches are case-sensitive; use the exact capitalization from the paper\n- **Common allele types**: Knockout and transgenic alleles are frequently used in rat research\n- **Symbol priority**: Search using the gene symbol exactly as written; do NOT translate between protein names (CYP1A1) and gene symbols (Cyp1a1) manually\n\n### What NOT to Do\n\n- Do NOT search for\
  \ protein names when the paper mentions gene symbols\n- Do NOT add zygosity notation to your search (database never contains it)\n- Do NOT guess at alternative spellings; use exact paper text after preprocessing\n- Do NOT translate between human (CYP1A1) and rat (Cyp1a1) ortholog symbols automatically\n</search_guidelines>\n</rgd_search_rules>\n\n\n### Interpreting RGD Results:\n<rgd_results>\n## INTERPRETING RGD SEARCH RESULTS\n\n<context>\nRGD allele searches may return multiple results, especially for common alleles or generic knockouts. Your job is to validate results and determine if there's a single clear match or if ambiguity requires reporting multiple candidates.\n</context>\n\n<before_accepting>\n### Before Accepting Any Result\n\nAsk yourself:\n1. Does the `matched_on` field show it matched what I searched for?\n2. Does the allele type match what the paper describes?\n3. If the paper mentioned a source institution, does `fullname_attribution` match?\n4. If there are multiple\
  \ results, can I definitively pick one?\n</before_accepting>\n\n<result_fields>\n### Key Fields in Search Results\n\n- **`matched_on`**: The exact text that matched your query (symbol, synonym, or name fragment)\n  - **Validation**: Verify this is the gene symbol you intended to search for\n  - **Example**: If you searched \"Cyp1a1\", `matched_on` should be \"Cyp1a1\" or a close variant\n\n- **`symbol`**: The official allele symbol in RGD\n  - **Format**: Usually `GeneSymbol<superscript>` (e.g., `Cyp1a1<em1Mcwi>`)\n  - **Validation**: Should start with the gene symbol you searched for\n\n- **`name`**: Full descriptive allele name\n  - **Contains**: Gene, allele type, mutation details, and often institution/creator\n  - **Example**: \"cytochrome P450, family 1, subfamily a, polypeptide 1; endonuclease-mediated mutation 1, Medical College of Wisconsin\"\n\n- **`fullname_attribution`**: Extracted institution info (see Attribution Disambiguation)\n  - **When present**: Use to match against\
  \ paper's mentioned source\n  - **When null**: Check `name` field manually for institution info\n</result_fields>\n\n<validation>\n### Validation Checklist\n\n**For EVERY result, verify:**\n\n1. **`matched_on` is correct**\n   - Does it match your search term (after preprocessing)?\n   - If it matched a synonym, does that synonym make sense for the paper's context?\n\n2. **Allele type matches paper description**\n   - Paper says \"knockout\" → Look for \"null\", \"deletion\", \"disruption\" in the name\n   - Paper says \"transgenic\" → Look for \"transgene\", \"construct\", \"insertion\" in the name\n   - Paper describes specific mutation → Verify mutation details in name match\n\n3. **Institution matches (if paper mentioned source)**\n   - Use `fullname_attribution.value` to check against paper's mentioned institution\n   - Cross-reference with the full `name` field to confirm extraction is correct\n   - If no institution mentioned in paper, skip this check\n\n4. **If multiple matches\
  \ exist**\n   - **DO NOT guess**: Report ALL matching alleles with explanations\n   - Note why each is a candidate (matched symbol, type, etc.)\n   - Note what's ambiguous (missing institution info, multiple knockouts exist, etc.)\n</validation>\n\n<examples>\n### Example 1: Clear Single Match\n\n**Search**: \"Cyp1a1\"\n**Results**: 1 result\n\n```json\n{\n  \"symbol\": \"Cyp1a1<em1Mcwi>\",\n  \"matched_on\": \"Cyp1a1\",\n  \"name\": \"cytochrome P450, family 1, subfamily a, polypeptide 1; endonuclease-mediated mutation 1, Medical College of Wisconsin\",\n  \"fullname_attribution\": {\n    \"value\": \"Medical College of Wisconsin\",\n    \"confidence\": \"probable\"\n  }\n}\n```\n\n**Paper context**: \"Cyp1a1 knockout from MCW\"\n\n**Interpretation**: ✅ **ACCEPT**\n- `matched_on` = \"Cyp1a1\" ✓\n- Name indicates knockout (endonuclease-mediated mutation) ✓\n- Institution matches paper (MCW) ✓\n- Single result, no ambiguity ✓\n\n---\n\n### Example 2: Multiple Results - Use Attribution\n\
  \n**Search**: \"Apoe\"\n**Results**: 3 results\n\n**Result A**:\n```json\n{\n  \"symbol\": \"Apoe<em1Sage>\",\n  \"matched_on\": \"Apoe\",\n  \"name\": \"apolipoprotein E; endonuclease-mediated mutation 1, Sage Labs\",\n  \"fullname_attribution\": {\"value\": \"Sage Labs\", \"confidence\": \"probable\"}\n}\n```\n\n**Result B**:\n```json\n{\n  \"symbol\": \"Apoe<em2Mcwi>\",\n  \"matched_on\": \"Apoe\",\n  \"name\": \"apolipoprotein E; endonuclease-mediated mutation 2, Medical College of Wisconsin\",\n  \"fullname_attribution\": {\"value\": \"Medical College of Wisconsin\", \"confidence\": \"probable\"}\n}\n```\n\n**Result C**:\n```json\n{\n  \"symbol\": \"Apoe<tm1Unc>\",\n  \"matched_on\": \"Apoe\",\n  \"name\": \"apolipoprotein E; targeted mutation 1, University of North Carolina\",\n  \"fullname_attribution\": {\"value\": \"University of North Carolina\", \"confidence\": \"probable\"}\n}\n```\n\n**Paper context**: \"Apoe knockout rats from Sage Labs\"\n\n**Interpretation**: ✅ **SELECT\
  \ Result A**\n- All results match on \"Apoe\" ✓\n- All are knockouts ✓\n- Result A institution matches paper (Sage Labs) ✓✓\n- Clear winner based on attribution\n\n---\n\n### Example 3: Ambiguous - Report All\n\n**Search**: \"Slc6a3\"\n**Results**: 2 results\n\n**Result A**:\n```json\n{\n  \"symbol\": \"Slc6a3<em1Mcwi>\",\n  \"matched_on\": \"Slc6a3\",\n  \"name\": \"solute carrier family 6 member 3; endonuclease-mediated mutation 1, Medical College of Wisconsin\",\n  \"fullname_attribution\": null\n}\n```\n\n**Result B**:\n```json\n{\n  \"symbol\": \"Slc6a3<em1Sage>\",\n  \"matched_on\": \"Slc6a3\",\n  \"name\": \"solute carrier family 6 member 3; endonuclease-mediated mutation 1, Sage\",\n  \"fullname_attribution\": null\n}\n```\n\n**Paper context**: \"Slc6a3 knockout\" (no source institution mentioned)\n\n**Interpretation**: ⚠️ **REPORT BOTH**\n- Both match on \"Slc6a3\" ✓\n- Both are knockouts (endonuclease-mediated) ✓\n- Paper doesn't mention source institution ✗\n- `fullname_attribution`\
  \ extraction failed for both ✗\n- **Action**: Report both results with explanation: \"Paper does not specify allele source. RGD contains multiple Slc6a3 knockouts from MCW and Sage Labs. Manual curator review required.\"\n</examples>\n\n<constraints>\n### Decision Constraints\n\n- **NEVER select based on symbol match alone** if multiple results exist\n- **NEVER guess** which result is correct when attribution is ambiguous\n- **ALWAYS report all candidates** when you cannot definitively pick one\n- **ALWAYS explain** why results are ambiguous (missing institution, multiple same-type alleles, etc.)\n- **DO NOT prefer** newer alleles over older ones without evidence from the paper\n</constraints>\n</rgd_results>\n\n"
group_id: RGD
